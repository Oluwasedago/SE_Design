// TypeScript
// File: src/library/devices/manufacturing-plc.ts
// Purpose: PLCs, I/O modules, remote I/O, safety controllers
// Standards: IEC 61131-3, IEC 61499, IEC 62443, IEC 61508
// ═══════════════════════════════════════════════════════════════════════════════

import {
  BaseDeviceTemplate,
  DeviceCategory,
  StandardSignalDefinition,
  DeviceAttribute,
} from './index';

/**
 * ╔═══════════════════════════════════════════════════════════════════════════╗
 * ║  MANUFACTURING PLC SYSTEMS LIBRARY                                        ║
 * ╠═══════════════════════════════════════════════════════════════════════════╣
 * ║  Covers:                                                                  ║
 * ║  • Programmable Logic Controllers (Compact, Modular, Safety)             ║
 * ║  • Digital I/O Modules (24VDC, 120VAC, 230VAC, Relay)                    ║
 * ║  • Analog I/O Modules (4-20mA, 0-10V, RTD, TC, HART)                     ║
 * ║  • Specialty Modules (High-Speed Counter, Motion, Weighing)              ║
 * ║  • Remote I/O Systems (PROFINET, EtherNet/IP, EtherCAT)                  ║
 * ║  • Safety PLCs and Safety I/O (SIL2, SIL3, PLe)                          ║
 * ╚═══════════════════════════════════════════════════════════════════════════╝
 */

// ─────────────────────────────────────────────────────────────────────────────
// ENUMS
// ─────────────────────────────────────────────────────────────────────────────

export enum PLCType {
  COMPACT = 'COMPACT',
  MODULAR = 'MODULAR',
  SOFT_PLC = 'SOFT_PLC',
  SAFETY_PLC = 'SAFETY_PLC',
  MICRO_PLC = 'MICRO_PLC',
  PAC = 'PAC', // Programmable Automation Controller
}

export enum PLCVendor {
  SIEMENS = 'SIEMENS',
  ALLEN_BRADLEY = 'ALLEN_BRADLEY',
  SCHNEIDER = 'SCHNEIDER',
  ABB = 'ABB',
  BECKHOFF = 'BECKHOFF',
  OMRON = 'OMRON',
  MITSUBISHI = 'MITSUBISHI',
  PHOENIX_CONTACT = 'PHOENIX_CONTACT',
  WAGO = 'WAGO',
  B_AND_R = 'B_AND_R',
  PILZ = 'PILZ',
  HIMA = 'HIMA',
  HONEYWELL = 'HONEYWELL',
  EMERSON = 'EMERSON',
}

export enum IOType {
  DIGITAL_INPUT = 'DIGITAL_INPUT',
  DIGITAL_OUTPUT = 'DIGITAL_OUTPUT',
  ANALOG_INPUT = 'ANALOG_INPUT',
  ANALOG_OUTPUT = 'ANALOG_OUTPUT',
  SPECIAL_FUNCTION = 'SPECIAL_FUNCTION',
  COMMUNICATION = 'COMMUNICATION',
  SAFETY = 'SAFETY',
}

export enum DigitalInputType {
  DC_24V_SINK = 'DC_24V_SINK',
  DC_24V_SOURCE = 'DC_24V_SOURCE',
  AC_120V = 'AC_120V',
  AC_230V = 'AC_230V',
  NAMUR = 'NAMUR',
  DRY_CONTACT = 'DRY_CONTACT',
  HIGH_SPEED = 'HIGH_SPEED',
}

export enum DigitalOutputType {
  DC_24V_TRANSISTOR_SINK = 'DC_24V_TRANSISTOR_SINK',
  DC_24V_TRANSISTOR_SOURCE = 'DC_24V_TRANSISTOR_SOURCE',
  RELAY = 'RELAY',
  AC_TRIAC = 'AC_TRIAC',
  HIGH_SPEED = 'HIGH_SPEED',
  PWM = 'PWM',
}

export enum AnalogInputType {
  CURRENT_4_20MA = 'CURRENT_4_20MA',
  CURRENT_0_20MA = 'CURRENT_0_20MA',
  VOLTAGE_0_10V = 'VOLTAGE_0_10V',
  VOLTAGE_PM_10V = 'VOLTAGE_PM_10V',
  VOLTAGE_0_5V = 'VOLTAGE_0_5V',
  VOLTAGE_1_5V = 'VOLTAGE_1_5V',
  RTD_PT100 = 'RTD_PT100',
  RTD_PT1000 = 'RTD_PT1000',
  RTD_NI100 = 'RTD_NI100',
  TC_TYPE_J = 'TC_TYPE_J',
  TC_TYPE_K = 'TC_TYPE_K',
  TC_TYPE_T = 'TC_TYPE_T',
  TC_TYPE_N = 'TC_TYPE_N',
  TC_TYPE_R = 'TC_TYPE_R',
  TC_TYPE_S = 'TC_TYPE_S',
  TC_TYPE_B = 'TC_TYPE_B',
  RESISTANCE = 'RESISTANCE',
  HART = 'HART',
}

export enum AnalogOutputType {
  CURRENT_4_20MA = 'CURRENT_4_20MA',
  CURRENT_0_20MA = 'CURRENT_0_20MA',
  VOLTAGE_0_10V = 'VOLTAGE_0_10V',
  VOLTAGE_PM_10V = 'VOLTAGE_PM_10V',
  HART = 'HART',
}

export enum AnalogResolution {
  BIT_12 = '12-bit',
  BIT_14 = '14-bit',
  BIT_16 = '16-bit',
  BIT_24 = '24-bit',
}

export enum FieldbusProtocol {
  PROFINET = 'PROFINET',
  ETHERNET_IP = 'ETHERNET_IP',
  ETHERCAT = 'ETHERCAT',
  MODBUS_TCP = 'MODBUS_TCP',
  POWERLINK = 'POWERLINK',
  PROFIBUS_DP = 'PROFIBUS_DP',
  DEVICENET = 'DEVICENET',
  CANOPEN = 'CANOPEN',
  CC_LINK = 'CC_LINK',
  IO_LINK = 'IO_LINK',
  AS_INTERFACE = 'AS_INTERFACE',
}

export enum SafetyLevel {
  NONE = 'NONE',
  SIL_1 = 'SIL_1',
  SIL_2 = 'SIL_2',
  SIL_3 = 'SIL_3',
  PL_A = 'PL_A',
  PL_B = 'PL_B',
  PL_C = 'PL_C',
  PL_D = 'PL_D',
  PL_E = 'PL_E',
}

export enum SafetyFunction {
  STO = 'STO', // Safe Torque Off
  SS1 = 'SS1', // Safe Stop 1
  SS2 = 'SS2', // Safe Stop 2
  SOS = 'SOS', // Safe Operating Stop
  SLS = 'SLS', // Safe Limited Speed
  SLP = 'SLP', // Safe Limited Position
  SLI = 'SLI', // Safe Limited Increment
  SDI = 'SDI', // Safe Direction
  SBC = 'SBC', // Safe Brake Control
  SCA = 'SCA', // Safe Cam
  SMT = 'SMT', // Safe Maximum Torque
}

// ─────────────────────────────────────────────────────────────────────────────
// MODULAR PLC CPU
// ─────────────────────────────────────────────────────────────────────────────

export const PLC_CPU_SIGNALS: StandardSignalDefinition[] = [
  // System Status
  {
    nameTemplate: '{TAG}_RUN',
    descriptionTemplate: '{DESC} CPU in RUN Mode',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_STOP',
    descriptionTemplate: '{DESC} CPU in STOP Mode',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_ERROR',
    descriptionTemplate: '{DESC} CPU Error',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_MAINT_REQ',
    descriptionTemplate: '{DESC} Maintenance Required',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_FORCE_ACTIVE',
    descriptionTemplate: '{DESC} Force Mode Active',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  
  // Communication Status
  {
    nameTemplate: '{TAG}_COMM1_OK',
    descriptionTemplate: '{DESC} Communication Port 1 OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Communication',
  },
  {
    nameTemplate: '{TAG}_COMM2_OK',
    descriptionTemplate: '{DESC} Communication Port 2 OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Communication',
  },
  {
    nameTemplate: '{TAG}_FIELDBUS_OK',
    descriptionTemplate: '{DESC} Fieldbus Communication OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Communication',
  },
  
  // Diagnostics
  {
    nameTemplate: '{TAG}_SCAN_TIME',
    descriptionTemplate: '{DESC} Current Scan Time',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: 'ms',
    rangeMin: 0,
    rangeMax: 1000,
    isMandatory: true,
    category: 'Diagnostics',
  },
  {
    nameTemplate: '{TAG}_SCAN_TIME_MAX',
    descriptionTemplate: '{DESC} Maximum Scan Time',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: 'ms',
    rangeMin: 0,
    rangeMax: 1000,
    isMandatory: false,
    category: 'Diagnostics',
  },
  {
    nameTemplate: '{TAG}_MEM_USED',
    descriptionTemplate: '{DESC} Memory Used',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '%',
    rangeMin: 0,
    rangeMax: 100,
    isMandatory: false,
    category: 'Diagnostics',
  },
  {
    nameTemplate: '{TAG}_CPU_LOAD',
    descriptionTemplate: '{DESC} CPU Load',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '%',
    rangeMin: 0,
    rangeMax: 100,
    isMandatory: false,
    category: 'Diagnostics',
  },
  
  // Battery & Power
  {
    nameTemplate: '{TAG}_BATT_LOW',
    descriptionTemplate: '{DESC} Battery Low',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Power',
  },
  {
    nameTemplate: '{TAG}_PWR_OK',
    descriptionTemplate: '{DESC} Power Supply OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Power',
  },
  
  // Time
  {
    nameTemplate: '{TAG}_TIMESTAMP',
    descriptionTemplate: '{DESC} System Timestamp',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 4294967295,
    isMandatory: false,
    category: 'Time',
  },
  {
    nameTemplate: '{TAG}_TIME_SYNC_OK',
    descriptionTemplate: '{DESC} Time Synchronized',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Time',
  },
];

export const PLC_CPU_ATTRIBUTES: DeviceAttribute[] = [
  // Hardware
  {
    name: 'plcType',
    label: 'PLC Type',
    dataType: 'ENUM',
    enumValues: Object.values(PLCType),
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'vendor',
    label: 'Vendor',
    dataType: 'ENUM',
    enumValues: Object.values(PLCVendor),
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'model',
    label: 'Model/Part Number',
    dataType: 'STRING',
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'firmwareVersion',
    label: 'Firmware Version',
    dataType: 'STRING',
    isRequired: false,
    category: 'Hardware',
  },
  
  // Memory
  {
    name: 'workMemory',
    label: 'Work Memory',
    dataType: 'NUMBER',
    unit: 'KB',
    isRequired: true,
    validation: { min: 32, max: 65536 },
    category: 'Memory',
  },
  {
    name: 'loadMemory',
    label: 'Load Memory',
    dataType: 'NUMBER',
    unit: 'MB',
    isRequired: false,
    validation: { min: 1, max: 2048 },
    category: 'Memory',
  },
  {
    name: 'retentiveMemory',
    label: 'Retentive Memory',
    dataType: 'NUMBER',
    unit: 'KB',
    isRequired: false,
    validation: { min: 1, max: 8192 },
    category: 'Memory',
  },
  
  // I/O Capacity
  {
    name: 'maxLocalIO',
    label: 'Max Local I/O Points',
    dataType: 'NUMBER',
    isRequired: true,
    validation: { min: 8, max: 8192 },
    category: 'I/O Capacity',
  },
  {
    name: 'maxRemoteIO',
    label: 'Max Remote I/O Points',
    dataType: 'NUMBER',
    isRequired: false,
    validation: { min: 0, max: 65536 },
    category: 'I/O Capacity',
  },
  {
    name: 'maxIOModulesPerRack',
    label: 'Max I/O Modules per Rack',
    dataType: 'NUMBER',
    isRequired: false,
    validation: { min: 1, max: 64 },
    category: 'I/O Capacity',
  },
  
  // Performance
  {
    name: 'boolOperationTime',
    label: 'Boolean Operation Time',
    dataType: 'NUMBER',
    unit: 'ns',
    isRequired: false,
    validation: { min: 1, max: 1000 },
    category: 'Performance',
  },
  {
    name: 'floatOperationTime',
    label: 'Floating Point Operation Time',
    dataType: 'NUMBER',
    unit: 'ns',
    isRequired: false,
    validation: { min: 1, max: 10000 },
    category: 'Performance',
  },
  
  // Communication
  {
    name: 'integratedPorts',
    label: 'Integrated Communication Ports',
    dataType: 'STRING',
    isRequired: true,
    category: 'Communication',
  },
  {
    name: 'supportedProtocols',
    label: 'Supported Protocols',
    dataType: 'STRING',
    isRequired: true,
    category: 'Communication',
  },
  {
    name: 'maxPROFINETDevices',
    label: 'Max PROFINET Devices',
    dataType: 'NUMBER',
    isRequired: false,
    validation: { min: 0, max: 256 },
    category: 'Communication',
  },
  
  // Programming
  {
    name: 'programmingLanguages',
    label: 'IEC 61131-3 Languages',
    dataType: 'STRING',
    defaultValue: 'LD, FBD, ST, IL, SFC',
    isRequired: true,
    category: 'Programming',
  },
  {
    name: 'programmingSoftware',
    label: 'Programming Software',
    dataType: 'STRING',
    isRequired: true,
    category: 'Programming',
  },
  
  // Safety (if applicable)
  {
    name: 'safetyRating',
    label: 'Safety Rating',
    dataType: 'ENUM',
    enumValues: Object.values(SafetyLevel),
    defaultValue: SafetyLevel.NONE,
    isRequired: true,
    category: 'Safety',
  },
  
  // Installation
  {
    name: 'rackSlot',
    label: 'Rack/Slot Position',
    dataType: 'STRING',
    isRequired: false,
    category: 'Installation',
  },
  {
    name: 'ipAddress',
    label: 'IP Address',
    dataType: 'STRING',
    isRequired: false,
    category: 'Installation',
  },
];

export const PLC_CPU_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-PLC-CPU-001',
  name: 'PLC CPU Module',
  category: DeviceCategory.PLC,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'WATER_WASTEWATER', 'BUILDING_AUTOMATION'],
  description: 'Programmable Logic Controller central processing unit. ' +
    'Executes control program and manages I/O communication.',
  standardSignals: PLC_CPU_SIGNALS,
  attributes: PLC_CPU_ATTRIBUTES,
  standards: ['IEC 61131-3', 'IEC 61131-2', 'IEC 62443'],
  defaultTagPrefix: 'PLC',
  icon: 'plc-cpu',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// DIGITAL INPUT MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const DIGITAL_INPUT_MODULE_SIGNALS: StandardSignalDefinition[] = [
  // Module Status
  {
    nameTemplate: '{TAG}_MOD_OK',
    descriptionTemplate: '{DESC} Module OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_DIAG',
    descriptionTemplate: '{DESC} Diagnostic Alarm',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_SUPPLY_FAULT',
    descriptionTemplate: '{DESC} Supply Voltage Fault',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Status',
  },
  
  // Channel inputs (generic - actual channels defined by configuration)
  {
    nameTemplate: '{TAG}_CH00',
    descriptionTemplate: '{DESC} Channel 0',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH01',
    descriptionTemplate: '{DESC} Channel 1',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH02',
    descriptionTemplate: '{DESC} Channel 2',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH03',
    descriptionTemplate: '{DESC} Channel 3',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH04',
    descriptionTemplate: '{DESC} Channel 4',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH05',
    descriptionTemplate: '{DESC} Channel 5',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH06',
    descriptionTemplate: '{DESC} Channel 6',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH07',
    descriptionTemplate: '{DESC} Channel 7',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs',
  },
  // Extended channels for 16/32 point modules
  {
    nameTemplate: '{TAG}_CH08',
    descriptionTemplate: '{DESC} Channel 8',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH09',
    descriptionTemplate: '{DESC} Channel 9',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH10',
    descriptionTemplate: '{DESC} Channel 10',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH11',
    descriptionTemplate: '{DESC} Channel 11',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH12',
    descriptionTemplate: '{DESC} Channel 12',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH13',
    descriptionTemplate: '{DESC} Channel 13',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH14',
    descriptionTemplate: '{DESC} Channel 14',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH15',
    descriptionTemplate: '{DESC} Channel 15',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs Extended',
  },
];

export const DIGITAL_INPUT_MODULE_ATTRIBUTES: DeviceAttribute[] = [
  {
    name: 'numberOfChannels',
    label: 'Number of Channels',
    dataType: 'ENUM',
    enumValues: ['4', '8', '16', '32'],
    isRequired: true,
    category: 'Configuration',
  },
  {
    name: 'inputType',
    label: 'Input Type',
    dataType: 'ENUM',
    enumValues: Object.values(DigitalInputType),
    isRequired: true,
    category: 'Configuration',
  },
  {
    name: 'nominalVoltage',
    label: 'Nominal Input Voltage',
    dataType: 'NUMBER',
    unit: 'V',
    isRequired: true,
    validation: { min: 5, max: 250 },
    category: 'Electrical',
  },
  {
    name: 'inputCurrentTypical',
    label: 'Input Current (Typical)',
    dataType: 'NUMBER',
    unit: 'mA',
    isRequired: false,
    validation: { min: 0.1, max: 20 },
    category: 'Electrical',
  },
  {
    name: 'signalDelayOn',
    label: 'Signal Delay (ON)',
    dataType: 'NUMBER',
    unit: 'ms',
    defaultValue: 0.1,
    isRequired: false,
    validation: { min: 0, max: 100 },
    category: 'Timing',
  },
  {
    name: 'signalDelayOff',
    label: 'Signal Delay (OFF)',
    dataType: 'NUMBER',
    unit: 'ms',
    defaultValue: 0.1,
    isRequired: false,
    validation: { min: 0, max: 100 },
    category: 'Timing',
  },
  {
    name: 'inputFilterTime',
    label: 'Input Filter Time',
    dataType: 'NUMBER',
    unit: 'ms',
    defaultValue: 3,
    isRequired: false,
    validation: { min: 0, max: 50 },
    category: 'Timing',
  },
  {
    name: 'wireDiagnostics',
    label: 'Wire Break Diagnostics',
    dataType: 'BOOLEAN',
    defaultValue: false,
    isRequired: true,
    category: 'Diagnostics',
  },
  {
    name: 'channelGrouping',
    label: 'Channel Grouping',
    dataType: 'ENUM',
    enumValues: ['INDIVIDUAL', 'GROUPS_OF_4', 'GROUPS_OF_8', 'COMMON'],
    isRequired: false,
    category: 'Configuration',
  },
  {
    name: 'vendor',
    label: 'Vendor',
    dataType: 'ENUM',
    enumValues: Object.values(PLCVendor),
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'partNumber',
    label: 'Part Number',
    dataType: 'STRING',
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'rackSlot',
    label: 'Rack/Slot Position',
    dataType: 'STRING',
    isRequired: false,
    category: 'Installation',
  },
];

export const DIGITAL_INPUT_MODULE_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-IO-DI-001',
  name: 'Digital Input Module',
  category: DeviceCategory.IO_MODULE,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'BUILDING_AUTOMATION'],
  description: 'Digital input module for PLCs. Supports various voltage levels and diagnostic functions.',
  standardSignals: DIGITAL_INPUT_MODULE_SIGNALS,
  attributes: DIGITAL_INPUT_MODULE_ATTRIBUTES,
  standards: ['IEC 61131-2'],
  defaultTagPrefix: 'DI',
  icon: 'di-module',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// DIGITAL OUTPUT MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const DIGITAL_OUTPUT_MODULE_SIGNALS: StandardSignalDefinition[] = [
  // Module Status
  {
    nameTemplate: '{TAG}_MOD_OK',
    descriptionTemplate: '{DESC} Module OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_DIAG',
    descriptionTemplate: '{DESC} Diagnostic Alarm',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_FUSE_BLOWN',
    descriptionTemplate: '{DESC} Fuse Blown',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_SUPPLY_FAULT',
    descriptionTemplate: '{DESC} Load Supply Fault',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Status',
  },
  
  // Channel outputs
  {
    nameTemplate: '{TAG}_CH00',
    descriptionTemplate: '{DESC} Channel 0',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: true,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH01',
    descriptionTemplate: '{DESC} Channel 1',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: true,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH02',
    descriptionTemplate: '{DESC} Channel 2',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: true,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH03',
    descriptionTemplate: '{DESC} Channel 3',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: true,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH04',
    descriptionTemplate: '{DESC} Channel 4',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH05',
    descriptionTemplate: '{DESC} Channel 5',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH06',
    descriptionTemplate: '{DESC} Channel 6',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH07',
    descriptionTemplate: '{DESC} Channel 7',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs',
  },
  // Extended channels
  {
    nameTemplate: '{TAG}_CH08',
    descriptionTemplate: '{DESC} Channel 8',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH09',
    descriptionTemplate: '{DESC} Channel 9',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH10',
    descriptionTemplate: '{DESC} Channel 10',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH11',
    descriptionTemplate: '{DESC} Channel 11',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH12',
    descriptionTemplate: '{DESC} Channel 12',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH13',
    descriptionTemplate: '{DESC} Channel 13',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH14',
    descriptionTemplate: '{DESC} Channel 14',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH15',
    descriptionTemplate: '{DESC} Channel 15',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Outputs Extended',
  },
];

export const DIGITAL_OUTPUT_MODULE_ATTRIBUTES: DeviceAttribute[] = [
  {
    name: 'numberOfChannels',
    label: 'Number of Channels',
    dataType: 'ENUM',
    enumValues: ['4', '8', '16', '32'],
    isRequired: true,
    category: 'Configuration',
  },
  {
    name: 'outputType',
    label: 'Output Type',
    dataType: 'ENUM',
    enumValues: Object.values(DigitalOutputType),
    isRequired: true,
    category: 'Configuration',
  },
  {
    name: 'outputVoltage',
    label: 'Output Voltage',
    dataType: 'NUMBER',
    unit: 'V',
    isRequired: true,
    validation: { min: 5, max: 250 },
    category: 'Electrical',
  },
  {
    name: 'outputCurrentMax',
    label: 'Max Output Current per Channel',
    dataType: 'NUMBER',
    unit: 'A',
    isRequired: true,
    validation: { min: 0.1, max: 10 },
    category: 'Electrical',
  },
  {
    name: 'totalCurrentMax',
    label: 'Max Total Output Current',
    dataType: 'NUMBER',
    unit: 'A',
    isRequired: false,
    validation: { min: 0.5, max: 20 },
    category: 'Electrical',
  },
  {
    name: 'switchingFrequency',
    label: 'Max Switching Frequency',
    dataType: 'NUMBER',
    unit: 'Hz',
    isRequired: false,
    validation: { min: 1, max: 100000 },
    category: 'Performance',
  },
  {
    name: 'shortCircuitProtection',
    label: 'Short Circuit Protection',
    dataType: 'BOOLEAN',
    defaultValue: true,
    isRequired: true,
    category: 'Protection',
  },
  {
    name: 'overloadProtection',
    label: 'Overload Protection',
    dataType: 'BOOLEAN',
    defaultValue: false,
    isRequired: true,
    category: 'Protection',
  },
  {
    name: 'substituteValueBehavior',
    label: 'Substitute Value on CPU Stop',
    dataType: 'ENUM',
    enumValues: ['HOLD_LAST', 'SET_ZERO', 'SET_ONE', 'SUBSTITUTE_VALUE'],
    defaultValue: 'SET_ZERO',
    isRequired: true,
    category: 'Behavior',
  },
  {
    name: 'vendor',
    label: 'Vendor',
    dataType: 'ENUM',
    enumValues: Object.values(PLCVendor),
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'partNumber',
    label: 'Part Number',
    dataType: 'STRING',
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'rackSlot',
    label: 'Rack/Slot Position',
    dataType: 'STRING',
    isRequired: false,
    category: 'Installation',
  },
];

export const DIGITAL_OUTPUT_MODULE_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-IO-DO-001',
  name: 'Digital Output Module',
  category: DeviceCategory.IO_MODULE,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'BUILDING_AUTOMATION'],
  description: 'Digital output module for PLCs. Transistor or relay outputs with protection features.',
  standardSignals: DIGITAL_OUTPUT_MODULE_SIGNALS,
  attributes: DIGITAL_OUTPUT_MODULE_ATTRIBUTES,
  standards: ['IEC 61131-2'],
  defaultTagPrefix: 'DO',
  icon: 'do-module',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// ANALOG INPUT MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const ANALOG_INPUT_MODULE_SIGNALS: StandardSignalDefinition[] = [
  // Module Status
  {
    nameTemplate: '{TAG}_MOD_OK',
    descriptionTemplate: '{DESC} Module OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_DIAG',
    descriptionTemplate: '{DESC} Diagnostic Alarm',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  
  // Channel Values
  {
    nameTemplate: '{TAG}_CH00_PV',
    descriptionTemplate: '{DESC} Channel 0 Process Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: true,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH00_STAT',
    descriptionTemplate: '{DESC} Channel 0 Status',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH01_PV',
    descriptionTemplate: '{DESC} Channel 1 Process Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: true,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH01_STAT',
    descriptionTemplate: '{DESC} Channel 1 Status',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH02_PV',
    descriptionTemplate: '{DESC} Channel 2 Process Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH02_STAT',
    descriptionTemplate: '{DESC} Channel 2 Status',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH03_PV',
    descriptionTemplate: '{DESC} Channel 3 Process Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH03_STAT',
    descriptionTemplate: '{DESC} Channel 3 Status',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Inputs',
  },
  {
    nameTemplate: '{TAG}_CH04_PV',
    descriptionTemplate: '{DESC} Channel 4 Process Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH05_PV',
    descriptionTemplate: '{DESC} Channel 5 Process Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH06_PV',
    descriptionTemplate: '{DESC} Channel 6 Process Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Inputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH07_PV',
    descriptionTemplate: '{DESC} Channel 7 Process Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Inputs Extended',
  },
];

export const ANALOG_INPUT_MODULE_ATTRIBUTES: DeviceAttribute[] = [
  {
    name: 'numberOfChannels',
    label: 'Number of Channels',
    dataType: 'ENUM',
    enumValues: ['2', '4', '8', '16'],
    isRequired: true,
    category: 'Configuration',
  },
  {
    name: 'inputType',
    label: 'Input Type',
    dataType: 'ENUM',
    enumValues: Object.values(AnalogInputType),
    isRequired: true,
    category: 'Configuration',
  },
  {
    name: 'resolution',
    label: 'Resolution',
    dataType: 'ENUM',
    enumValues: Object.values(AnalogResolution),
    defaultValue: AnalogResolution.BIT_16,
    isRequired: true,
    category: 'Performance',
  },
  {
    name: 'conversionTime',
    label: 'Conversion Time per Channel',
    dataType: 'NUMBER',
    unit: 'ms',
    isRequired: false,
    validation: { min: 0.01, max: 1000 },
    category: 'Performance',
  },
  {
    name: 'accuracy',
    label: 'Accuracy',
    dataType: 'NUMBER',
    unit: '%',
    isRequired: false,
    validation: { min: 0.01, max: 1 },
    category: 'Performance',
  },
  {
    name: 'inputImpedance',
    label: 'Input Impedance',
    dataType: 'NUMBER',
    unit: 'MΩ',
    isRequired: false,
    validation: { min: 0.001, max: 100 },
    category: 'Electrical',
  },
  {
    name: 'commonModeVoltage',
    label: 'Common Mode Voltage',
    dataType: 'NUMBER',
    unit: 'V',
    isRequired: false,
    validation: { min: 0, max: 100 },
    category: 'Electrical',
  },
  {
    name: 'channelIsolation',
    label: 'Channel-to-Channel Isolation',
    dataType: 'BOOLEAN',
    defaultValue: false,
    isRequired: true,
    category: 'Electrical',
  },
  {
    name: 'wireDiagnostics',
    label: 'Wire Break Diagnostics',
    dataType: 'BOOLEAN',
    defaultValue: true,
    isRequired: true,
    category: 'Diagnostics',
  },
  {
    name: 'overflowDiagnostics',
    label: 'Overflow/Underflow Diagnostics',
    dataType: 'BOOLEAN',
    defaultValue: true,
    isRequired: true,
    category: 'Diagnostics',
  },
  {
    name: 'hartSupport',
    label: 'HART Support',
    dataType: 'BOOLEAN',
    defaultValue: false,
    isRequired: true,
    category: 'Communication',
  },
  {
    name: 'vendor',
    label: 'Vendor',
    dataType: 'ENUM',
    enumValues: Object.values(PLCVendor),
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'partNumber',
    label: 'Part Number',
    dataType: 'STRING',
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'rackSlot',
    label: 'Rack/Slot Position',
    dataType: 'STRING',
    isRequired: false,
    category: 'Installation',
  },
];

export const ANALOG_INPUT_MODULE_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-IO-AI-001',
  name: 'Analog Input Module',
  category: DeviceCategory.IO_MODULE,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'WATER_WASTEWATER', 'OIL_GAS_DOWNSTREAM'],
  description: 'Analog input module for PLCs. Supports voltage, current, RTD, and thermocouple inputs.',
  standardSignals: ANALOG_INPUT_MODULE_SIGNALS,
  attributes: ANALOG_INPUT_MODULE_ATTRIBUTES,
  standards: ['IEC 61131-2'],
  defaultTagPrefix: 'AI',
  icon: 'ai-module',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// ANALOG OUTPUT MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const ANALOG_OUTPUT_MODULE_SIGNALS: StandardSignalDefinition[] = [
  // Module Status
  {
    nameTemplate: '{TAG}_MOD_OK',
    descriptionTemplate: '{DESC} Module OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_DIAG',
    descriptionTemplate: '{DESC} Diagnostic Alarm',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  
  // Channel Outputs
  {
    nameTemplate: '{TAG}_CH00_SP',
    descriptionTemplate: '{DESC} Channel 0 Setpoint',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: true,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH00_STAT',
    descriptionTemplate: '{DESC} Channel 0 Status',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH01_SP',
    descriptionTemplate: '{DESC} Channel 1 Setpoint',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: true,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH01_STAT',
    descriptionTemplate: '{DESC} Channel 1 Status',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH02_SP',
    descriptionTemplate: '{DESC} Channel 2 Setpoint',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH03_SP',
    descriptionTemplate: '{DESC} Channel 3 Setpoint',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Outputs',
  },
  {
    nameTemplate: '{TAG}_CH04_SP',
    descriptionTemplate: '{DESC} Channel 4 Setpoint',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH05_SP',
    descriptionTemplate: '{DESC} Channel 5 Setpoint',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH06_SP',
    descriptionTemplate: '{DESC} Channel 6 Setpoint',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Outputs Extended',
  },
  {
    nameTemplate: '{TAG}_CH07_SP',
    descriptionTemplate: '{DESC} Channel 7 Setpoint',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 32767,
    isMandatory: false,
    category: 'Outputs Extended',
  },
];

export const ANALOG_OUTPUT_MODULE_ATTRIBUTES: DeviceAttribute[] = [
  {
    name: 'numberOfChannels',
    label: 'Number of Channels',
    dataType: 'ENUM',
    enumValues: ['2', '4', '8'],
    isRequired: true,
    category: 'Configuration',
  },
  {
    name: 'outputType',
    label: 'Output Type',
    dataType: 'ENUM',
    enumValues: Object.values(AnalogOutputType),
    isRequired: true,
    category: 'Configuration',
  },
  {
    name: 'resolution',
    label: 'Resolution',
    dataType: 'ENUM',
    enumValues: Object.values(AnalogResolution),
    defaultValue: AnalogResolution.BIT_16,
    isRequired: true,
    category: 'Performance',
  },
  {
    name: 'settlingTime',
    label: 'Settling Time',
    dataType: 'NUMBER',
    unit: 'ms',
    isRequired: false,
    validation: { min: 0.01, max: 100 },
    category: 'Performance',
  },
  {
    name: 'accuracy',
    label: 'Accuracy',
    dataType: 'NUMBER',
    unit: '%',
    isRequired: false,
    validation: { min: 0.01, max: 1 },
    category: 'Performance',
  },
  {
    name: 'loadResistanceMin',
    label: 'Min Load Resistance (Voltage)',
    dataType: 'NUMBER',
    unit: 'kΩ',
    isRequired: false,
    validation: { min: 0.5, max: 100 },
    category: 'Electrical',
  },
  {
    name: 'loadResistanceMax',
    label: 'Max Load Resistance (Current)',
    dataType: 'NUMBER',
    unit: 'Ω',
    isRequired: false,
    validation: { min: 100, max: 1000 },
    category: 'Electrical',
  },
  {
    name: 'shortCircuitProtection',
    label: 'Short Circuit Protection',
    dataType: 'BOOLEAN',
    defaultValue: true,
    isRequired: true,
    category: 'Protection',
  },
  {
    name: 'substituteValueBehavior',
    label: 'Substitute Value on CPU Stop',
    dataType: 'ENUM',
    enumValues: ['HOLD_LAST', 'SET_ZERO', 'SUBSTITUTE_VALUE'],
    defaultValue: 'SET_ZERO',
    isRequired: true,
    category: 'Behavior',
  },
  {
    name: 'hartSupport',
    label: 'HART Support',
    dataType: 'BOOLEAN',
    defaultValue: false,
    isRequired: true,
    category: 'Communication',
  },
  {
    name: 'vendor',
    label: 'Vendor',
    dataType: 'ENUM',
    enumValues: Object.values(PLCVendor),
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'partNumber',
    label: 'Part Number',
    dataType: 'STRING',
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'rackSlot',
    label: 'Rack/Slot Position',
    dataType: 'STRING',
    isRequired: false,
    category: 'Installation',
  },
];

export const ANALOG_OUTPUT_MODULE_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-IO-AO-001',
  name: 'Analog Output Module',
  category: DeviceCategory.IO_MODULE,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'WATER_WASTEWATER'],
  description: 'Analog output module for PLCs. Supports voltage and current outputs with HART option.',
  standardSignals: ANALOG_OUTPUT_MODULE_SIGNALS,
  attributes: ANALOG_OUTPUT_MODULE_ATTRIBUTES,
  standards: ['IEC 61131-2'],
  defaultTagPrefix: 'AO',
  icon: 'ao-module',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// REMOTE I/O COUPLER
// ─────────────────────────────────────────────────────────────────────────────

export const REMOTE_IO_COUPLER_SIGNALS: StandardSignalDefinition[] = [
  // System Status
  {
    nameTemplate: '{TAG}_RUN',
    descriptionTemplate: '{DESC} Station Running',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_ERROR',
    descriptionTemplate: '{DESC} Station Error',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_MAINT',
    descriptionTemplate: '{DESC} Maintenance Required',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_COMM_OK',
    descriptionTemplate: '{DESC} Network Communication OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Communication',
  },
  {
    nameTemplate: '{TAG}_REDUNDANCY_OK',
    descriptionTemplate: '{DESC} Network Redundancy OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Communication',
  },
  {
    nameTemplate: '{TAG}_PWR_OK',
    descriptionTemplate: '{DESC} Power Supply OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Power',
  },
  {
    nameTemplate: '{TAG}_MODULES_OK',
    descriptionTemplate: '{DESC} All Modules OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Modules',
  },
  {
    nameTemplate: '{TAG}_MODULE_COUNT',
    descriptionTemplate: '{DESC} Connected Module Count',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 64,
    isMandatory: false,
    category: 'Modules',
  },
];

export const REMOTE_IO_COUPLER_ATTRIBUTES: DeviceAttribute[] = [
  {
    name: 'protocol',
    label: 'Network Protocol',
    dataType: 'ENUM',
    enumValues: Object.values(FieldbusProtocol),
    isRequired: true,
    category: 'Communication',
  },
  {
    name: 'ipAddress',
    label: 'IP Address',
    dataType: 'STRING',
    isRequired: false,
    category: 'Communication',
  },
  {
    name: 'deviceName',
    label: 'Device Name',
    dataType: 'STRING',
    isRequired: true,
    category: 'Communication',
  },
  {
    name: 'stationAddress',
    label: 'Station Address',
    dataType: 'NUMBER',
    isRequired: false,
    validation: { min: 1, max: 65534 },
    category: 'Communication',
  },
  {
    name: 'maxModules',
    label: 'Max I/O Modules',
    dataType: 'NUMBER',
    isRequired: true,
    validation: { min: 4, max: 64 },
    category: 'Capacity',
  },
  {
    name: 'maxDigitalIO',
    label: 'Max Digital I/O Points',
    dataType: 'NUMBER',
    isRequired: false,
    validation: { min: 32, max: 2048 },
    category: 'Capacity',
  },
  {
    name: 'maxAnalogIO',
    label: 'Max Analog I/O Points',
    dataType: 'NUMBER',
    isRequired: false,
    validation: { min: 8, max: 512 },
    category: 'Capacity',
  },
  {
    name: 'networkRedundancy',
    label: 'Network Redundancy Support',
    dataType: 'BOOLEAN',
    defaultValue: false,
    isRequired: true,
    category: 'Communication',
  },
  {
    name: 'hotSwap',
    label: 'Hot Swap Support',
    dataType: 'BOOLEAN',
    defaultValue: false,
    isRequired: true,
    category: 'Features',
  },
  {
    name: 'vendor',
    label: 'Vendor',
    dataType: 'ENUM',
    enumValues: Object.values(PLCVendor),
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'partNumber',
    label: 'Part Number',
    dataType: 'STRING',
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'location',
    label: 'Installation Location',
    dataType: 'STRING',
    isRequired: false,
    category: 'Installation',
  },
];

export const REMOTE_IO_COUPLER_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-RIO-001',
  name: 'Remote I/O Coupler',
  category: DeviceCategory.REMOTE_IO,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'WATER_WASTEWATER', 'OIL_GAS_DOWNSTREAM'],
  description: 'Remote I/O network coupler/head station for distributed I/O systems. ' +
    'Supports PROFINET, EtherNet/IP, EtherCAT, and other industrial Ethernet protocols.',
  standardSignals: REMOTE_IO_COUPLER_SIGNALS,
  attributes: REMOTE_IO_COUPLER_ATTRIBUTES,
  standards: ['IEC 61784', 'IEC 61158'],
  defaultTagPrefix: 'RIO',
  icon: 'remote-io',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// SAFETY PLC
// ─────────────────────────────────────────────────────────────────────────────

export const SAFETY_PLC_SIGNALS: StandardSignalDefinition[] = [
  // Standard Status
  {
    nameTemplate: '{TAG}_RUN',
    descriptionTemplate: '{DESC} Safety CPU in RUN',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_STOP',
    descriptionTemplate: '{DESC} Safety CPU in STOP',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_ERROR',
    descriptionTemplate: '{DESC} Safety CPU Error',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  
  // Safety-Specific Status
  {
    nameTemplate: '{TAG}_SAFE_STATE',
    descriptionTemplate: '{DESC} System in Safe State',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  {
    nameTemplate: '{TAG}_PASSIVATION',
    descriptionTemplate: '{DESC} Passivation Active',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  {
    nameTemplate: '{TAG}_DIAG_PENDING',
    descriptionTemplate: '{DESC} Diagnostic Pending',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  {
    nameTemplate: '{TAG}_F_COMM_ERR',
    descriptionTemplate: '{DESC} F-Communication Error',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  {
    nameTemplate: '{TAG}_CRC_ERROR',
    descriptionTemplate: '{DESC} Safety CRC Error',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  {
    nameTemplate: '{TAG}_WATCHDOG_OK',
    descriptionTemplate: '{DESC} Safety Watchdog OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  
  // Diagnostics
  {
    nameTemplate: '{TAG}_SAFETY_CYCLE',
    descriptionTemplate: '{DESC} Safety Cycle Time',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: 'ms',
    rangeMin: 0,
    rangeMax: 1000,
    isMandatory: true,
    category: 'Diagnostics',
  },
  {
    nameTemplate: '{TAG}_F_DEST_ADD',
    descriptionTemplate: '{DESC} F-Destination Address Count',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 256,
    isMandatory: false,
    category: 'Diagnostics',
  },
];

export const SAFETY_PLC_ATTRIBUTES: DeviceAttribute[] = [
  {
    name: 'silRating',
    label: 'SIL Rating',
    dataType: 'ENUM',
    enumValues: [SafetyLevel.SIL_1, SafetyLevel.SIL_2, SafetyLevel.SIL_3],
    isRequired: true,
    category: 'Safety',
  },
  {
    name: 'plRating',
    label: 'Performance Level (PL)',
    dataType: 'ENUM',
    enumValues: [SafetyLevel.PL_A, SafetyLevel.PL_B, SafetyLevel.PL_C, SafetyLevel.PL_D, SafetyLevel.PL_E],
    isRequired: false,
    category: 'Safety',
  },
  {
    name: 'category',
    label: 'Category (EN ISO 13849)',
    dataType: 'ENUM',
    enumValues: ['1', '2', '3', '4'],
    isRequired: false,
    category: 'Safety',
  },
  {
    name: 'pfdAvg',
    label: 'PFDavg (Probability of Failure on Demand)',
    dataType: 'STRING',
    isRequired: false,
    category: 'Safety',
  },
  {
    name: 'safetyResponseTime',
    label: 'Safety Response Time',
    dataType: 'NUMBER',
    unit: 'ms',
    isRequired: true,
    validation: { min: 1, max: 500 },
    category: 'Safety',
  },
  {
    name: 'fCycleTime',
    label: 'F-Cycle Time',
    dataType: 'NUMBER',
    unit: 'ms',
    isRequired: true,
    validation: { min: 1, max: 200 },
    category: 'Safety',
  },
  {
    name: 'redundantArchitecture',
    label: 'Redundant Architecture',
    dataType: 'ENUM',
    enumValues: ['1oo1D', '1oo2', '1oo2D', '2oo2', '2oo3'],
    isRequired: true,
    category: 'Architecture',
  },
  {
    name: 'maxSafetyIO',
    label: 'Max Safety I/O Points',
    dataType: 'NUMBER',
    isRequired: true,
    validation: { min: 8, max: 4096 },
    category: 'Capacity',
  },
  {
    name: 'maxFDestinations',
    label: 'Max F-Destinations',
    dataType: 'NUMBER',
    isRequired: false,
    validation: { min: 1, max: 256 },
    category: 'Capacity',
  },
  {
    name: 'safetyProtocol',
    label: 'Safety Protocol',
    dataType: 'ENUM',
    enumValues: ['PROFISAFE', 'CIP_SAFETY', 'FSOE', 'OPENSSAFETY'],
    isRequired: true,
    category: 'Communication',
  },
  {
    name: 'vendor',
    label: 'Vendor',
    dataType: 'ENUM',
    enumValues: Object.values(PLCVendor),
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'model',
    label: 'Model',
    dataType: 'STRING',
    isRequired: true,
    category: 'Hardware',
  },
  {
    name: 'certificationBody',
    label: 'Certification Body',
    dataType: 'ENUM',
    enumValues: ['TUV', 'BIA', 'BGIA', 'UL', 'CSA', 'FM'],
    isRequired: true,
    category: 'Certification',
  },
  {
    name: 'certificateNumber',
    label: 'Certificate Number',
    dataType: 'STRING',
    isRequired: false,
    category: 'Certification',
  },
];

export const SAFETY_PLC_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-PLC-SAFETY-001',
  name: 'Safety PLC',
  category: DeviceCategory.SAFETY_CONTROLLER,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'OIL_GAS_DOWNSTREAM', 'PHARMACEUTICAL'],
  description: 'Safety-rated programmable logic controller for SIL-rated applications. ' +
    'Certified per IEC 61508 and ISO 13849 for functional safety.',
  standardSignals: SAFETY_PLC_SIGNALS,
  attributes: SAFETY_PLC_ATTRIBUTES,
  standards: ['IEC 61508', 'IEC 62061', 'ISO 13849', 'IEC 61511'],
  defaultTagPrefix: 'SPLC',
  icon: 'safety-plc',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// SAFETY DIGITAL INPUT MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const SAFETY_DI_MODULE_SIGNALS: StandardSignalDefinition[] = [
  // Module Status
  {
    nameTemplate: '{TAG}_MOD_OK',
    descriptionTemplate: '{DESC} Module OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_PASSIVATED',
    descriptionTemplate: '{DESC} Module Passivated',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  {
    nameTemplate: '{TAG}_DIAG',
    descriptionTemplate: '{DESC} Diagnostic Alarm',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_DISCREPANCY',
    descriptionTemplate: '{DESC} Channel Discrepancy',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  
  // Safety Inputs (typically paired for redundancy)
  {
    nameTemplate: '{TAG}_CH00',
    descriptionTemplate: '{DESC} Channel 0',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Inputs',
  },
  {
    nameTemplate: '{TAG}_CH00_QUAL',
    descriptionTemplate: '{DESC} Channel 0 Quality',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Inputs',
  },
  {
    nameTemplate: '{TAG}_CH01',
    descriptionTemplate: '{DESC} Channel 1',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Inputs',
  },
  {
    nameTemplate: '{TAG}_CH01_QUAL',
    descriptionTemplate: '{DESC} Channel 1 Quality',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Inputs',
  },
  {
    nameTemplate: '{TAG}_CH02',
    descriptionTemplate: '{DESC} Channel 2',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Safety Inputs',
  },
  {
    nameTemplate: '{TAG}_CH02_QUAL',
    descriptionTemplate: '{DESC} Channel 2 Quality',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Safety Inputs',
  },
  {
    nameTemplate: '{TAG}_CH03',
    descriptionTemplate: '{DESC} Channel 3',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Safety Inputs',
  },
  {
    nameTemplate: '{TAG}_CH03_QUAL',
    descriptionTemplate: '{DESC} Channel 3 Quality',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Safety Inputs',
  },
];

export const SAFETY_DI_MODULE_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-IO-SDI-001',
  name: 'Safety Digital Input Module',
  category: DeviceCategory.IO_MODULE,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'OIL_GAS_DOWNSTREAM'],
  description: 'Safety-rated digital input module for E-Stop, light curtains, safety switches. ' +
    'Supports single-channel and dual-channel evaluation.',
  standardSignals: SAFETY_DI_MODULE_SIGNALS,
  attributes: [
    {
      name: 'numberOfChannels',
      label: 'Number of Channels',
      dataType: 'ENUM',
      enumValues: ['4', '8', '16'],
      isRequired: true,
      category: 'Configuration',
    },
    {
      name: 'evaluationType',
      label: 'Evaluation Type',
      dataType: 'ENUM',
      enumValues: ['SINGLE_CHANNEL', 'DUAL_CHANNEL_EQUIVALENT', 'DUAL_CHANNEL_ANTIVALENT'],
      isRequired: true,
      category: 'Safety Configuration',
    },
    {
      name: 'discrepancyTime',
      label: 'Discrepancy Time',
      dataType: 'NUMBER',
      unit: 'ms',
      defaultValue: 500,
      isRequired: true,
      validation: { min: 10, max: 10000 },
      category: 'Safety Configuration',
    },
    {
      name: 'silRating',
      label: 'SIL Rating',
      dataType: 'ENUM',
      enumValues: [SafetyLevel.SIL_1, SafetyLevel.SIL_2, SafetyLevel.SIL_3],
      isRequired: true,
      category: 'Safety',
    },
    {
      name: 'plRating',
      label: 'Performance Level',
      dataType: 'ENUM',
      enumValues: [SafetyLevel.PL_C, SafetyLevel.PL_D, SafetyLevel.PL_E],
      isRequired: false,
      category: 'Safety',
    },
    {
      name: 'testPulseSupport',
      label: 'Test Pulse Support',
      dataType: 'BOOLEAN',
      defaultValue: true,
      isRequired: true,
      category: 'Diagnostics',
    },
    {
      name: 'vendor',
      label: 'Vendor',
      dataType: 'ENUM',
      enumValues: Object.values(PLCVendor),
      isRequired: true,
      category: 'Hardware',
    },
    {
      name: 'partNumber',
      label: 'Part Number',
      dataType: 'STRING',
      isRequired: true,
      category: 'Hardware',
    },
  ],
  standards: ['IEC 61508', 'IEC 62061', 'ISO 13849'],
  defaultTagPrefix: 'FDI',
  icon: 'safety-di',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// SAFETY DIGITAL OUTPUT MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const SAFETY_DO_MODULE_SIGNALS: StandardSignalDefinition[] = [
  // Module Status
  {
    nameTemplate: '{TAG}_MOD_OK',
    descriptionTemplate: '{DESC} Module OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_PASSIVATED',
    descriptionTemplate: '{DESC} Module Passivated',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Status',
  },
  {
    nameTemplate: '{TAG}_DIAG',
    descriptionTemplate: '{DESC} Diagnostic Alarm',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_PP_SUPPLY_FAULT',
    descriptionTemplate: '{DESC} PP Supply Fault',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  
  // Safety Outputs
  {
    nameTemplate: '{TAG}_CH00',
    descriptionTemplate: '{DESC} Channel 0',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: true,
    category: 'Safety Outputs',
  },
  {
    nameTemplate: '{TAG}_CH00_FB',
    descriptionTemplate: '{DESC} Channel 0 Feedback',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Outputs',
  },
  {
    nameTemplate: '{TAG}_CH01',
    descriptionTemplate: '{DESC} Channel 1',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: true,
    category: 'Safety Outputs',
  },
  {
    nameTemplate: '{TAG}_CH01_FB',
    descriptionTemplate: '{DESC} Channel 1 Feedback',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Safety Outputs',
  },
  {
    nameTemplate: '{TAG}_CH02',
    descriptionTemplate: '{DESC} Channel 2',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Safety Outputs',
  },
  {
    nameTemplate: '{TAG}_CH02_FB',
    descriptionTemplate: '{DESC} Channel 2 Feedback',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Safety Outputs',
  },
  {
    nameTemplate: '{TAG}_CH03',
    descriptionTemplate: '{DESC} Channel 3',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Safety Outputs',
  },
  {
    nameTemplate: '{TAG}_CH03_FB',
    descriptionTemplate: '{DESC} Channel 3 Feedback',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Safety Outputs',
  },
];

export const SAFETY_DO_MODULE_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-IO-SDO-001',
  name: 'Safety Digital Output Module',
  category: DeviceCategory.IO_MODULE,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'OIL_GAS_DOWNSTREAM'],
  description: 'Safety-rated digital output module for contactors, solenoids, and safety actuators. ' +
    'Includes readback monitoring and PP supply supervision.',
  standardSignals: SAFETY_DO_MODULE_SIGNALS,
  attributes: [
    {
      name: 'numberOfChannels',
      label: 'Number of Channels',
      dataType: 'ENUM',
      enumValues: ['4', '8'],
      isRequired: true,
      category: 'Configuration',
    },
    {
      name: 'outputType',
      label: 'Output Type',
      dataType: 'ENUM',
      enumValues: ['PM_SWITCHING', 'PP_SWITCHING'],
      isRequired: true,
      category: 'Configuration',
    },
    {
      name: 'outputCurrent',
      label: 'Output Current per Channel',
      dataType: 'NUMBER',
      unit: 'A',
      isRequired: true,
      validation: { min: 0.5, max: 4 },
      category: 'Electrical',
    },
    {
      name: 'readbackEnabled',
      label: 'Readback Monitoring',
      dataType: 'BOOLEAN',
      defaultValue: true,
      isRequired: true,
      category: 'Safety Configuration',
    },
    {
      name: 'silRating',
      label: 'SIL Rating',
      dataType: 'ENUM',
      enumValues: [SafetyLevel.SIL_1, SafetyLevel.SIL_2, SafetyLevel.SIL_3],
      isRequired: true,
      category: 'Safety',
    },
    {
      name: 'plRating',
      label: 'Performance Level',
      dataType: 'ENUM',
      enumValues: [SafetyLevel.PL_C, SafetyLevel.PL_D, SafetyLevel.PL_E],
      isRequired: false,
      category: 'Safety',
    },
    {
      name: 'vendor',
      label: 'Vendor',
      dataType: 'ENUM',
      enumValues: Object.values(PLCVendor),
      isRequired: true,
      category: 'Hardware',
    },
    {
      name: 'partNumber',
      label: 'Part Number',
      dataType: 'STRING',
      isRequired: true,
      category: 'Hardware',
    },
  ],
  standards: ['IEC 61508', 'IEC 62061', 'ISO 13849'],
  defaultTagPrefix: 'FDO',
  icon: 'safety-do',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// HIGH-SPEED COUNTER MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const HIGH_SPEED_COUNTER_SIGNALS: StandardSignalDefinition[] = [
  // Module Status
  {
    nameTemplate: '{TAG}_MOD_OK',
    descriptionTemplate: '{DESC} Module OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_DIAG',
    descriptionTemplate: '{DESC} Diagnostic Alarm',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  
  // Counter Values
  {
    nameTemplate: '{TAG}_CH0_COUNT',
    descriptionTemplate: '{DESC} Channel 0 Count Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: -2147483648,
    rangeMax: 2147483647,
    isMandatory: true,
    category: 'Counter',
  },
  {
    nameTemplate: '{TAG}_CH0_FREQ',
    descriptionTemplate: '{DESC} Channel 0 Frequency',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: 'Hz',
    rangeMin: 0,
    rangeMax: 1000000,
    isMandatory: false,
    category: 'Counter',
  },
  {
    nameTemplate: '{TAG}_CH0_PERIOD',
    descriptionTemplate: '{DESC} Channel 0 Period',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: 'µs',
    rangeMin: 0,
    rangeMax: 1000000,
    isMandatory: false,
    category: 'Counter',
  },
  {
    nameTemplate: '{TAG}_CH0_COMPARE',
    descriptionTemplate: '{DESC} Channel 0 Compare Value',
    signalType: 'ANALOG_OUTPUT',
    direction: 'OUTPUT',
    engineeringUnit: '',
    rangeMin: -2147483648,
    rangeMax: 2147483647,
    isMandatory: false,
    category: 'Counter',
  },
  {
    nameTemplate: '{TAG}_CH0_GATE',
    descriptionTemplate: '{DESC} Channel 0 Gate Status',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Counter',
  },
  {
    nameTemplate: '{TAG}_CH0_COMPARE_OUT',
    descriptionTemplate: '{DESC} Channel 0 Compare Output',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Counter',
  },
  
  // Channel 1 (if multi-channel)
  {
    nameTemplate: '{TAG}_CH1_COUNT',
    descriptionTemplate: '{DESC} Channel 1 Count Value',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: -2147483648,
    rangeMax: 2147483647,
    isMandatory: false,
    category: 'Counter',
  },
  {
    nameTemplate: '{TAG}_CH1_FREQ',
    descriptionTemplate: '{DESC} Channel 1 Frequency',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: 'Hz',
    rangeMin: 0,
    rangeMax: 1000000,
    isMandatory: false,
    category: 'Counter',
  },
  
  // Control
  {
    nameTemplate: '{TAG}_ENABLE',
    descriptionTemplate: '{DESC} Counter Enable',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: true,
    category: 'Control',
  },
  {
    nameTemplate: '{TAG}_RESET',
    descriptionTemplate: '{DESC} Counter Reset',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: true,
    category: 'Control',
  },
  {
    nameTemplate: '{TAG}_LOAD',
    descriptionTemplate: '{DESC} Load Preset Value',
    signalType: 'DIGITAL_OUTPUT',
    direction: 'OUTPUT',
    isMandatory: false,
    category: 'Control',
  },
];

export const HIGH_SPEED_COUNTER_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-IO-HSC-001',
  name: 'High-Speed Counter Module',
  category: DeviceCategory.IO_MODULE,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS'],
  description: 'High-speed counter/encoder module for position, speed, and frequency measurement. ' +
    'Supports incremental encoders, SSI encoders, and pulse inputs.',
  standardSignals: HIGH_SPEED_COUNTER_SIGNALS,
  attributes: [
    {
      name: 'numberOfChannels',
      label: 'Number of Channels',
      dataType: 'ENUM',
      enumValues: ['1', '2', '4'],
      isRequired: true,
      category: 'Configuration',
    },
    {
      name: 'counterMode',
      label: 'Counter Mode',
      dataType: 'ENUM',
      enumValues: ['SINGLE_PHASE', 'DUAL_PHASE', 'A_B_QUADRATURE', 'SSI', 'FREQUENCY', 'PERIOD'],
      isRequired: true,
      category: 'Configuration',
    },
    {
      name: 'maxFrequency',
      label: 'Max Input Frequency',
      dataType: 'NUMBER',
      unit: 'kHz',
      isRequired: true,
      validation: { min: 1, max: 5000 },
      category: 'Performance',
    },
    {
      name: 'counterResolution',
      label: 'Counter Resolution',
      dataType: 'ENUM',
      enumValues: ['16-bit', '32-bit'],
      defaultValue: '32-bit',
      isRequired: true,
      category: 'Performance',
    },
    {
      name: 'inputType',
      label: 'Input Signal Type',
      dataType: 'ENUM',
      enumValues: ['24V_HTL', '5V_TTL', 'RS422_DIFFERENTIAL'],
      isRequired: true,
      category: 'Electrical',
    },
    {
      name: 'digitalOutputs',
      label: 'Number of Digital Outputs',
      dataType: 'NUMBER',
      isRequired: false,
      validation: { min: 0, max: 4 },
      category: 'Configuration',
    },
    {
      name: 'vendor',
      label: 'Vendor',
      dataType: 'ENUM',
      enumValues: Object.values(PLCVendor),
      isRequired: true,
      category: 'Hardware',
    },
    {
      name: 'partNumber',
      label: 'Part Number',
      dataType: 'STRING',
      isRequired: true,
      category: 'Hardware',
    },
  ],
  standards: ['IEC 61131-2'],
  defaultTagPrefix: 'HSC',
  icon: 'counter-module',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// COMMUNICATION MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const COMMUNICATION_MODULE_SIGNALS: StandardSignalDefinition[] = [
  {
    nameTemplate: '{TAG}_MOD_OK',
    descriptionTemplate: '{DESC} Module OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_COMM_OK',
    descriptionTemplate: '{DESC} Communication OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_DIAG',
    descriptionTemplate: '{DESC} Diagnostic Alarm',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_LINK_UP',
    descriptionTemplate: '{DESC} Link Up',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Network',
  },
  {
    nameTemplate: '{TAG}_REDUNDANCY_OK',
    descriptionTemplate: '{DESC} Redundancy OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Network',
  },
  {
    nameTemplate: '{TAG}_DEVICES_OK',
    descriptionTemplate: '{DESC} All Configured Devices OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Network',
  },
  {
    nameTemplate: '{TAG}_DEVICE_COUNT',
    descriptionTemplate: '{DESC} Connected Device Count',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 256,
    isMandatory: false,
    category: 'Network',
  },
  {
    nameTemplate: '{TAG}_ERROR_COUNT',
    descriptionTemplate: '{DESC} Communication Error Count',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '',
    rangeMin: 0,
    rangeMax: 65535,
    isMandatory: false,
    category: 'Diagnostics',
  },
];

export const COMMUNICATION_MODULE_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-IO-COMM-001',
  name: 'Communication Module',
  category: DeviceCategory.IO_MODULE,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'BUILDING_AUTOMATION'],
  description: 'Communication processor module for industrial networks. ' +
    'Supports PROFINET, EtherNet/IP, Modbus TCP, PROFIBUS, and serial protocols.',
  standardSignals: COMMUNICATION_MODULE_SIGNALS,
  attributes: [
    {
      name: 'protocol',
      label: 'Protocol',
      dataType: 'ENUM',
      enumValues: Object.values(FieldbusProtocol),
      isRequired: true,
      category: 'Communication',
    },
    {
      name: 'role',
      label: 'Communication Role',
      dataType: 'ENUM',
      enumValues: ['MASTER', 'SLAVE', 'SCANNER', 'ADAPTER', 'GATEWAY'],
      isRequired: true,
      category: 'Communication',
    },
    {
      name: 'maxDevices',
      label: 'Max Connected Devices',
      dataType: 'NUMBER',
      isRequired: true,
      validation: { min: 1, max: 256 },
      category: 'Capacity',
    },
    {
      name: 'ports',
      label: 'Number of Ports',
      dataType: 'NUMBER',
      isRequired: true,
      validation: { min: 1, max: 4 },
      category: 'Hardware',
    },
    {
      name: 'redundancySupport',
      label: 'Network Redundancy',
      dataType: 'ENUM',
      enumValues: ['NONE', 'MRP', 'S2', 'R1', 'DLR', 'HSR', 'PRP'],
      isRequired: true,
      category: 'Communication',
    },
    {
      name: 'ipAddress',
      label: 'IP Address',
      dataType: 'STRING',
      isRequired: false,
      category: 'Communication',
    },
    {
      name: 'vendor',
      label: 'Vendor',
      dataType: 'ENUM',
      enumValues: Object.values(PLCVendor),
      isRequired: true,
      category: 'Hardware',
    },
    {
      name: 'partNumber',
      label: 'Part Number',
      dataType: 'STRING',
      isRequired: true,
      category: 'Hardware',
    },
  ],
  standards: ['IEC 61784', 'IEC 61158'],
  defaultTagPrefix: 'CM',
  icon: 'comm-module',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// POWER SUPPLY MODULE
// ─────────────────────────────────────────────────────────────────────────────

export const POWER_SUPPLY_MODULE_SIGNALS: StandardSignalDefinition[] = [
  {
    nameTemplate: '{TAG}_OK',
    descriptionTemplate: '{DESC} Power Supply OK',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_FAULT',
    descriptionTemplate: '{DESC} Power Supply Fault',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: true,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_OVERLOAD',
    descriptionTemplate: '{DESC} Overload Warning',
    signalType: 'DIGITAL_INPUT',
    direction: 'INPUT',
    isMandatory: false,
    category: 'Status',
  },
  {
    nameTemplate: '{TAG}_OUTPUT_V',
    descriptionTemplate: '{DESC} Output Voltage',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: 'V',
    rangeMin: 0,
    rangeMax: 30,
    isMandatory: false,
    category: 'Measurement',
  },
  {
    nameTemplate: '{TAG}_OUTPUT_I',
    descriptionTemplate: '{DESC} Output Current',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: 'A',
    rangeMin: 0,
    rangeMax: 50,
    isMandatory: false,
    category: 'Measurement',
  },
  {
    nameTemplate: '{TAG}_LOAD_PCT',
    descriptionTemplate: '{DESC} Load Percentage',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '%',
    rangeMin: 0,
    rangeMax: 150,
    isMandatory: false,
    category: 'Measurement',
  },
  {
    nameTemplate: '{TAG}_TEMP',
    descriptionTemplate: '{DESC} Internal Temperature',
    signalType: 'ANALOG_INPUT',
    direction: 'INPUT',
    engineeringUnit: '°C',
    rangeMin: 0,
    rangeMax: 100,
    isMandatory: false,
    category: 'Measurement',
  },
];

export const POWER_SUPPLY_MODULE_TEMPLATE: BaseDeviceTemplate = {
  templateId: 'MFG-PWR-001',
  name: 'System Power Supply',
  category: DeviceCategory.POWER_SUPPLY,
  industries: ['MANUFACTURING_DISCRETE', 'MANUFACTURING_PROCESS', 'BUILDING_AUTOMATION'],
  description: 'System power supply for PLC racks and I/O systems. ' +
    'AC or DC input with regulated 24VDC output.',
  standardSignals: POWER_SUPPLY_MODULE_SIGNALS,
  attributes: [
    {
      name: 'inputVoltage',
      label: 'Input Voltage',
      dataType: 'ENUM',
      enumValues: ['24VDC', '48VDC', '120VAC', '230VAC', '85-264VAC'],
      isRequired: true,
      category: 'Electrical',
    },
    {
      name: 'outputVoltage',
      label: 'Output Voltage',
      dataType: 'NUMBER',
      unit: 'V',
      defaultValue: 24,
      isRequired: true,
      validation: { min: 5, max: 48 },
      category: 'Electrical',
    },
    {
      name: 'outputCurrent',
      label: 'Output Current',
      dataType: 'NUMBER',
      unit: 'A',
      isRequired: true,
      validation: { min: 1, max: 40 },
      category: 'Electrical',
    },
    {
      name: 'outputPower',
      label: 'Output Power',
      dataType: 'NUMBER',
      unit: 'W',
      isRequired: true,
      validation: { min: 10, max: 1000 },
      category: 'Electrical',
    },
    {
      name: 'efficiency',
      label: 'Efficiency',
      dataType: 'NUMBER',
      unit: '%',
      isRequired: false,
      validation: { min: 80, max: 99 },
      category: 'Performance',
    },
    {
      name: 'redundancyCapable',
      label: 'Redundancy Capable',
      dataType: 'BOOLEAN',
      defaultValue: false,
      isRequired: true,
      category: 'Configuration',
    },
    {
      name: 'vendor',
      label: 'Vendor',
      dataType: 'ENUM',
      enumValues: Object.values(PLCVendor),
      isRequired: true,
      category: 'Hardware',
    },
    {
      name: 'partNumber',
      label: 'Part Number',
      dataType: 'STRING',
      isRequired: true,
      category: 'Hardware',
    },
  ],
  standards: ['IEC 61131-2', 'IEC 61010'],
  defaultTagPrefix: 'PS',
  icon: 'power-supply',
  isUserDefined: false,
  version: '1.0.0',
};

// ─────────────────────────────────────────────────────────────────────────────
// EXPORT ALL MANUFACTURING PLC TEMPLATES
// ─────────────────────────────────────────────────────────────────────────────

export const MANUFACTURING_PLC_TEMPLATES: BaseDeviceTemplate[] = [
  PLC_CPU_TEMPLATE,
  DIGITAL_INPUT_MODULE_TEMPLATE,
  DIGITAL_OUTPUT_MODULE_TEMPLATE,
  ANALOG_INPUT_MODULE_TEMPLATE,
  ANALOG_OUTPUT_MODULE_TEMPLATE,
  REMOTE_IO_COUPLER_TEMPLATE,
  SAFETY_PLC_TEMPLATE,
  SAFETY_DI_MODULE_TEMPLATE,
  SAFETY_DO_MODULE_TEMPLATE,
  HIGH_SPEED_COUNTER_TEMPLATE,
  COMMUNICATION_MODULE_TEMPLATE,
  POWER_SUPPLY_MODULE_TEMPLATE,
];

export const MANUFACTURING_PLC_ENUMS = {
  PLCType,
  PLCVendor,
  IOType,
  DigitalInputType,
  DigitalOutputType,
  AnalogInputType,
  AnalogOutputType,
  AnalogResolution,
  FieldbusProtocol,
  SafetyLevel,
  SafetyFunction,
};